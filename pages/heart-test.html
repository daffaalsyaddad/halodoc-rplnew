<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tes Kesehatan Jantung ‚Äì Halodoc Lite</title>
    <link href="/dist/output.css" rel="stylesheet" />
    <link rel="icon" type="image/svg+xml" href="../assets/icons/favicon2.svg" />
    <link rel="shortcut icon" href="../assets/icons/favicon2.svg" />

    <style>
      .btn-disabled {
        background-color: #9ca3af !important;
        cursor: not-allowed !important;
      }
      .btn-enabled {
        background-color: #8b5cf6 !important;
        cursor: pointer !important;
      }
      .btn-enabled:hover {
        background-color: #7c3aed !important;
      }
    </style>
  </head>
  <body class="bg-white text-gray-900" data-page="heart-test">
    <header class="border-b">
      <div
        class="mx-auto max-w-7xl px-4 h-16 flex items-center justify-between"
      >
        <a href="/" class="flex items-center gap-3 group">
          <div
            class="w-8 h-8 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 grid place-items-center text-white font-bold shadow-md transition-transform group-hover:scale-105"
          >
            H
          </div>
          <div class="flex flex-col">
            <span
              class="text-xl font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent"
              >halodoc</span
            >
            <span class="text-[10px] text-gray-500 -mt-1">Health Solution</span>
          </div>
        </a>
        <nav class="hidden md:flex items-center gap-6 text-sm">
          <a href="/">Beranda</a>
          <a href="/pages/doctors.html">Cari Dokter</a>
          <a href="/pages/pharmacy.html">Toko Kesehatan</a>
          <a href="/pages/articles.html">Artikel</a>
          <a href="/pages/map.html">Faskes Terdekat</a>
          <a href="/pages/bmi.html">Kalkulator BMI</a>
          <a href="/pages/heart-test.html">Tes Jantung</a>
          <a href="/pages/depression-test.html">Tes Depresi</a>
          <a href="/pages/insurance.html">Asuransi</a>
        </nav>
        <div class="flex items-center gap-3">
          <!-- Doctor Login Button -->
          <a
            href="/pages/doctor-login.html"
            class="px-3 py-1.5 text-sm font-semibold rounded-lg border border-blue-500 text-blue-600 hover:bg-blue-50 transition-all flex items-center gap-1"
          >
            <span>üë®‚Äç‚öïÔ∏è</span>
            Dokter
          </a>

          <!-- User Auth Section - Conditional -->
          <div id="userAuthSection">
            <a
              href="/pages/login.html"
              class="text-sm px-3 py-1.5 rounded-lg bg-pink-600 text-white"
              >Masuk</a
            >
          </div>
        </div>
      </div>
    </header>

    <main class="mx-auto max-w-3xl px-4 py-8">
      <div class="text-center mb-8">
        <h1 class="text-3xl font-semibold">Tes Kesehatan Jantung</h1>
        <p class="text-gray-600 mt-2">
          Isi form berikut untuk mengetahui risiko kesehatan jantung Anda
        </p>
      </div>

      <div class="rounded-2xl border p-6 bg-rose-50">
        <form id="heartTestForm" class="space-y-6">
          <!-- Usia -->
          <div>
            <label class="block text-sm font-medium mb-2">Usia (tahun)</label>
            <input
              type="number"
              id="age"
              min="1"
              max="120"
              class="w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-600"
              placeholder="Contoh: 35"
              required
            />
          </div>

          <!-- Riwayat Keluarga -->
          <div>
            <label class="block text-sm font-medium mb-2"
              >Apakah ada riwayat penyakit jantung dalam keluarga?</label
            >
            <div class="space-y-2">
              <label class="flex items-center">
                <input
                  type="radio"
                  name="familyHistory"
                  value="yes"
                  class="mr-2"
                  required
                />
                <span>Ya</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="familyHistory"
                  value="no"
                  class="mr-2"
                  required
                />
                <span>Tidak</span>
              </label>
            </div>
          </div>

          <!-- Merokok -->
          <div>
            <label class="block text-sm font-medium mb-2"
              >Apakah Anda merokok?</label
            >
            <div class="space-y-2">
              <label class="flex items-center">
                <input
                  type="radio"
                  name="smoking"
                  value="yes"
                  class="mr-2"
                  required
                />
                <span>Ya</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="smoking"
                  value="no"
                  class="mr-2"
                  required
                />
                <span>Tidak</span>
              </label>
            </div>
          </div>

          <!-- Aktivitas Fisik -->
          <div>
            <label class="block text-sm font-medium mb-2"
              >Seberapa sering berolahraga?</label
            >
            <div class="space-y-2">
              <label class="flex items-center">
                <input
                  type="radio"
                  name="exercise"
                  value="never"
                  class="mr-2"
                  required
                />
                <span>Jarang/Tidak pernah</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="exercise"
                  value="occasional"
                  class="mr-2"
                  required
                />
                <span>1-2 kali per minggu</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="exercise"
                  value="regular"
                  class="mr-2"
                  required
                />
                <span>3+ kali per minggu</span>
              </label>
            </div>
          </div>

          <!-- Tekanan Darah -->
          <div>
            <label class="block text-sm font-medium mb-2"
              >Riwayat tekanan darah tinggi?</label
            >
            <div class="space-y-2">
              <label class="flex items-center">
                <input
                  type="radio"
                  name="bloodPressure"
                  value="yes"
                  class="mr-2"
                  required
                />
                <span>Ya</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="bloodPressure"
                  value="no"
                  class="mr-2"
                  required
                />
                <span>Tidak</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="bloodPressure"
                  value="unknown"
                  class="mr-2"
                  required
                />
                <span>Tidak tahu</span>
              </label>
            </div>
          </div>

          <!-- Gejala -->
          <div>
            <label class="block text-sm font-medium mb-2"
              >Pernah mengalami nyeri dada?</label
            >
            <div class="space-y-2">
              <label class="flex items-center">
                <input
                  type="radio"
                  name="chestPain"
                  value="yes"
                  class="mr-2"
                  required
                />
                <span>Ya</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="chestPain"
                  value="no"
                  class="mr-2"
                  required
                />
                <span>Tidak</span>
              </label>
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            id="submitBtn"
            class="w-full rounded-xl text-white py-3 font-semibold btn-disabled"
            disabled
          >
            Lihat Hasil
          </button>
        </form>

        <!-- Hasil Tes -->
        <div id="testResult" class="hidden mt-6 p-4 rounded-xl bg-white border">
          <h3 class="text-lg font-semibold mb-4">
            Hasil Analisis Risiko Jantung
          </h3>
          <div class="text-center">
            <div class="text-2xl font-bold mb-2" id="riskLevel">-</div>
            <p class="text-gray-600" id="riskDescription"></p>
          </div>
        </div>
      </div>
    </main>

    <footer class="mt-16 border-t bg-gradient-to-b from-white to-rose-50">
      <div
        class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12 grid md:grid-cols-2 lg:grid-cols-4 gap-8"
      >
        <div>
          <div class="flex items-center gap-2">
            <div
              class="w-8 h-8 rounded-full bg-pink-600 grid place-items-center text-white font-bold"
            >
              u
            </div>
            <span class="text-2xl font-semibold">halodoc</span>
          </div>
          <div class="mt-4 space-y-2 text-sm text-gray-600">
            <p>help@halodoc.com</p>
            <p>021-5095-9900</p>
          </div>
          <div class="mt-4 flex gap-3">
            <a class="w-10 h-10 rounded-full border grid place-items-center"
              >üì∑</a
            >
            <a class="w-10 h-10 rounded-full border grid place-items-center"
              >üéµ</a
            >
            <a class="w-10 h-10 rounded-full border grid place-items-center"
              >‚ñ∂Ô∏è</a
            >
            <a class="w-10 h-10 rounded-full border grid place-items-center"
              >ùïè</a
            >
            <a class="w-10 h-10 rounded-full border grid place-items-center"
              >f</a
            >
          </div>
        </div>

        <div>
          <p class="font-semibold">Bantuan & Panduan</p>
          <ul class="mt-3 space-y-2 text-sm text-gray-600">
            <li><a href="#" class="hover:text-pink-600">Pusat Bantuan</a></li>
            <li>
              <a href="#" class="hover:text-pink-600">Syarat & Ketentuan</a>
            </li>
            <li>
              <a href="#" class="hover:text-pink-600">Kebijakan Privasi</a>
            </li>
          </ul>
        </div>

        <div>
          <p class="font-semibold">Halodoc</p>
          <ul class="mt-3 space-y-2 text-sm text-gray-600">
            <li><a href="#" class="hover:text-pink-600">Tentang Kami</a></li>
            <li>
              <a href="/pages/articles.html" class="hover:text-pink-600"
                >Kamus/Artikel Kesehatan</a
              >
            </li>
            <li>
              <a href="/pages/pharmacy.html" class="hover:text-pink-600"
                >Promo Toko Kesehatan</a
              >
            </li>
          </ul>
        </div>

        <div>
          <p class="font-semibold">Karier & Kolaborasi</p>
          <ul class="mt-3 space-y-2 text-sm text-gray-600">
            <li><a href="#" class="hover:text-pink-600">Karier</a></li>
            <li>
              <a href="#" class="hover:text-pink-600">Affiliate Program</a>
            </li>
            <li><a href="#" class="hover:text-pink-600">Bug Bounty</a></li>
          </ul>
        </div>
      </div>

      <div class="border-t">
        <div
          class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 text-xs text-gray-500 flex items-center justify-between"
        >
          <p>¬© 2025, by Kelompok 3. Untuk Tugas Rekayasa Perangkat Lunak</p>
          <p>Didukung oleh Kemenkes</p>
        </div>
      </div>
    </footer>

    <script>
      // Validasi Form Tes Kesehatan Jantung
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("heartTestForm");
        const submitBtn = document.getElementById("submitBtn");

        // Daftar semua field yang perlu divalidasi
        const formFields = [
          { type: "input", id: "age" },
          { type: "radio", name: "familyHistory" },
          { type: "radio", name: "smoking" },
          { type: "radio", name: "exercise" },
          { type: "radio", name: "bloodPressure" },
          { type: "radio", name: "chestPain" },
        ];

        // Fungsi untuk memeriksa apakah semua field sudah terisi
        function checkFormCompletion() {
          let allFilled = true;

          // Periksa setiap field
          formFields.forEach((field) => {
            if (field.type === "input") {
              const element = document.getElementById(field.id);
              if (!element.value.trim()) {
                allFilled = false;
              }
            } else if (field.type === "radio") {
              const checked = document.querySelector(
                `input[name="${field.name}"]:checked`
              );
              if (!checked) {
                allFilled = false;
              }
            }
          });

          return allFilled;
        }

        // Fungsi untuk memperbarui status tombol
        function updateButtonState() {
          const isComplete = checkFormCompletion();

          if (isComplete) {
            submitBtn.classList.remove("btn-disabled");
            submitBtn.classList.add("btn-enabled");
            submitBtn.disabled = false;
          } else {
            submitBtn.classList.remove("btn-enabled");
            submitBtn.classList.add("btn-disabled");
            submitBtn.disabled = true;
          }
        }

        // Event listener untuk input usia
        const ageInput = document.getElementById("age");
        ageInput.addEventListener("input", updateButtonState);

        // Event listener untuk semua radio buttons
        const allRadios = document.querySelectorAll('input[type="radio"]');
        allRadios.forEach((radio) => {
          radio.addEventListener("change", updateButtonState);
        });

        // Event listener untuk submit form
        form.addEventListener("submit", function (e) {
          e.preventDefault();

          // Hanya proses jika form lengkap
          if (checkFormCompletion()) {
            processForm();
          }
        });

        // Fungsi untuk memproses form
        function processForm() {
          // Ambil data form
          const age = parseInt(document.getElementById("age").value);
          const familyHistory = form.querySelector(
            'input[name="familyHistory"]:checked'
          ).value;
          const smoking = form.querySelector(
            'input[name="smoking"]:checked'
          ).value;
          const exercise = form.querySelector(
            'input[name="exercise"]:checked'
          ).value;
          const bloodPressure = form.querySelector(
            'input[name="bloodPressure"]:checked'
          ).value;
          const chestPain = form.querySelector(
            'input[name="chestPain"]:checked'
          ).value;

          // Scoring system sederhana
          let score = 0;

          // Usia
          if (age > 50) score += 2;
          else if (age > 35) score += 1;

          // Riwayat keluarga
          if (familyHistory === "yes") score += 2;

          // Merokok
          if (smoking === "yes") score += 2;

          // Olahraga
          if (exercise === "never") score += 2;
          else if (exercise === "occasional") score += 1;

          // Tekanan darah
          if (bloodPressure === "yes") score += 2;
          else if (bloodPressure === "unknown") score += 1;

          // Nyeri dada
          if (chestPain === "yes") score += 3;

          // Tentukan risiko berdasarkan score
          let level = "";
          let description = "";

          if (score <= 3) {
            level = "Rendah";
            description =
              "Risiko penyakit jantung Anda rendah. Pertahankan gaya hidup sehat.";
          } else if (score <= 6) {
            level = "Sedang";
            description =
              "Risiko penyakit jantung Anda sedang. Disarankan konsultasi dengan dokter.";
          } else {
            level = "Tinggi";
            description =
              "Risiko penyakit jantung Anda tinggi. Segera konsultasi dengan dokter spesialis jantung.";
          }

          // Tampilkan hasil
          const riskLevel = document.getElementById("riskLevel");
          const riskDescription = document.getElementById("riskDescription");
          const resultDiv = document.getElementById("testResult");

          riskLevel.textContent = `Risiko ${level}`;
          riskDescription.textContent = description;

          // Warna berdasarkan risiko
          if (level === "Rendah") {
            riskLevel.className = "text-2xl font-bold mb-2 text-green-600";
          } else if (level === "Sedang") {
            riskLevel.className = "text-2xl font-bold mb-2 text-yellow-600";
          } else {
            riskLevel.className = "text-2xl font-bold mb-2 text-red-600";
          }

          resultDiv.classList.remove("hidden");

          // Scroll ke hasil
          resultDiv.scrollIntoView({ behavior: "smooth" });
        }

        // Inisialisasi status tombol
        updateButtonState();
      });
    </script>
    <script src="/js/main.js"></script>
  </body>
</html>
